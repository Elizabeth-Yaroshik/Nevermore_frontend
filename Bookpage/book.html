<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nevermore — Книга</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../Bookpage/book.css">
  <script src="../Bookpage/book.js" defer></script>
</head>

<body>

  <div id="header"></div>

  <div class="container">
    
    <div id="sidebar"></div>

    <main class="main-content-wrapper">
      <section class="book-panel">
        <div class="book-grid">

          <div class="book-cover-section">
            <div class="book-cover" id="bookCover">Загрузка...</div>
            <div class="actions">
              <button class="btn read" onclick="startReading()">Читать</button>
              <button class="btn secondary" onclick="addToBookmarks()">Добавить в закладки</button>
              <button class="btn secondary" onclick="reportBook()">Пожаловаться</button>
            </div>
          </div>

          <div class="book-info-section">
            <div class="book-meta">Загрузка...</div>
            <h1 class="book-title">Загрузка...</h1>

            <div class="tags">
              <!-- Теги будут загружены через JS -->
            </div>

            <nav class="tabs">
              <button class="tab active" data-tab="description">Описание</button>
              <button class="tab" data-tab="chapters">Главы</button>
              <button class="tab" data-tab="reviews">Отзывы</button>
            </nav>

            <div id="description" class="tab-content active">
              <p class="book-description">
                Загрузка...
              </p>
            </div>

            <div id="chapters" class="tab-content">
              <h3>Главы</h3>
              <div class="chapter-list">
                <!-- Главы будут загружены через JS -->
              </div>
            </div>

            <div id="reviews" class="tab-content">
              <h3>Отзывы</h3>
              <div class="reviews-list">
                <!-- Отзывы будут загружены через JS -->
              </div>
            </div>
          </div>
        </div>
      </section>

      <aside class="recommendations">
        <div class="card">
          <h3>Похожие книги</h3>
          <!-- Рекомендации будут загружены через JS -->
        </div>
      </aside>
    </main>
  </div>

  <div id="mobile-nav"></div>
 <script>
    fetch("../menu_samples/header.html")
      .then(r => r.text())
      .then(h => document.getElementById("header").innerHTML = h); 
  </script>

  <script>
    fetch("../menu_samples/sidebar.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("sidebar").innerHTML = html;
      })
      .catch(err => console.error('Error loading sidebar:', err));
  </script>
  <script>
    fetch("../menu_samples/mobile-nav.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("mobile-nav").innerHTML = html;
      })
      .catch(err => console.error('Error loading mobile navigation:', err));
  </script>
  <script src="../menu_samples/menu_loader.js"></script>
  <!-- Подключаем поиск -->
<script src="../services/search-demo-data.js"></script>
<script src="../services/search-api.js"></script>
<script src="../Search/search.js"></script>
</body>
</html>